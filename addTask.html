<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kanban Board</title>

    <link
      rel="shortcut icon"
      href="./assets/img/favicon-bright.png"
      type="image/x-icon"
    />

    <link rel="stylesheet" href="./styles/style.css" />
    <link rel="stylesheet" href="./styles/addTask.css" />
    <link rel="stylesheet" href="./styles/color-template.css" />
    <link rel="stylesheet" href="./styles/header.css" />
    <link rel="stylesheet" href="./styles/main.css" />

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/8.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.0/firebase-database.js"></script>

    <!-- Firebase-Konfiguration -->
    <script src="./script/firebase-config.js"></script>
  </head>
  <body class="body">
    <!-- Seitenleiste mit Logo -->
    <nav class="sidebar">
      <div class="logo-container static">
        <img src="./assets/img/logo-2.png" alt="Logo" class="logo" />
      </div>
      <ul>
        <li>
          <a href="./summary.html"
            ><img src="./assets/icons/summary.png" alt="" />Summary</a
          >
        </li>
        <li>
          <a href="./addTask.html" class="active"
            ><img src="./assets/icons/add_task.png" alt="" />Add Task</a
          >
        </li>
        <li>
          <a href="./board.html"
            ><img src="./assets/icons/board.png" alt="" />Board</a
          >
        </li>
        <li>
          <a href="./contacts.html"
            ><img src="./assets/icons/contacts.png" alt="" />Contacts</a
          >
        </li>
      </ul>
      <footer>
        <a href="#">Privacy Policy</a>
        <a href="#">Legal Notice</a>
      </footer>
    </nav>

    <aside>
      <!-- Header -->
      <header>
        <div>
          <span>Kanban Project Managment Tool</span>
        </div>
        <div>
          <div>
            <img src="./assets/img/help.png" alt="./assets/img/help.png" />
          </div>
          <div id="userProfil">
            <span id="initials"></span>
          </div>
        </div>
      </header>

      <!-- Add Task -->
       <main>
      <div class="add-task-page">
          <h2 id="addTaskModalTitle" class="contentH2">Add Task</h2>
          <form id="addTaskForm">
            <div class="form-container">

              <!-- Linke Spalte -->
              <div class="form-column-left">
                <div class="addTask-headlines">
                  <label for="taskTitle"
                    >Title <span class="required">*</span></label
                  >
                </div>
                <input
                  type="text"
                  id="taskTitle"
                  name="taskTitle"
                  required
                  placeholder="Enter task title"
                />
                <div class="addTask-headlines">
                  <label for="taskDescription">Description</label>
                </div>
                <textarea
                  id="taskDescription"
                  name="taskDescription"
                  placeholder="Enter task description"
                ></textarea>

                <div class="addTask-headlines">
                  <label for="taskAssigned">Assigned to</label>
                </div>
                <div id="taskAssignedContainer" class="assigned-container">
                  <div
                    id="taskAssignedDropdown"
                    class="custom-dropdown dropdown"
                  >
                    <div class="dropdown-placeholder">
                      Select contacts
                      <div class="arrow">
                        <img
                          id="dropdownArrow"
                          class="dropdownarrow"
                          src="./assets/icons/arrow_drop_down.png"
                          alt="Dropdown arrow"
                        />
                      </div>
                    </div>
                    <div
                      id="taskAssignedOptions"
                      class="dropdown-options hidden"
                    ></div>
                  </div>
                  <div
                    id="selectedContactsContainer"
                    class="selected-contacts-container"
                  ></div>
                </div>
              </div>
              <div class="add-task-label">
                <label for="required"
                  ><span class="required">*</span>This field is required</label
                >
              </div>
            </div>

            <div class="divider"></div>

            <!-- Rechte Spalte -->
            <div class="form-column-right">

              <!-- Due Date -->
              <div class="addTask-headlines">
                <label for="taskDueDate"
                  >Due Date <span class="required">*</span></label
                >
              </div>
              <input type="date" id="taskDueDate" required />
              <div id="dueDateError" class="error-message hidden">
                This field is required
              </div>

              <!-- Priority -->
              <div class="addTask-headlines">
                <label for="taskPriority">Prio</label>
              </div>
              <div class="priority">
                <button
                  id="urgentBtn"
                  class="priority-btn"
                  data-priority="Urgent"
                  type="button"
                >
                  <img
                    src="./assets/icons/urgent.png"
                    id="urgentIcon"
                    class="priority-icon"
                    alt="Urgent"
                  />
                  Urgent
                </button>
                <button
                  id="mediumBtn"
                  class="priority-btn"
                  data-priority="Medium"
                  type="button"
                >
                  <img
                    src="./assets/icons/medium.png"
                    id="mediumIcon"
                    class="priority-icon"
                    alt="Medium"
                  />
                  Medium
                </button>
                <button
                  id="lowBtn"
                  class="priority-btn"
                  data-priority="Low"
                  type="button"
                >
                  <img
                    src="./assets/icons/low.png"
                    id="lowIcon"
                    class="priority-icon"
                    alt="Low"
                  />
                  Low
                </button>
              </div>

              <!-- Kategorieauswahl -->
              <div class="addTask-headlines">
                <label for="taskCategoryInput"
                  >Category <span class="required">*</span></label
                >
              </div>
              <div id="taskCategoryContainer" class="assigned-container">
                <div id="taskCategoryDropdown" class="custom-dropdown">
                  <div class="dropdown-placeholder">
                    <span id="taskCategorySelectedText"
                      >Select task category</span
                    >
                    <div class="arrow">
                      <img
                        id="taskCategoryArrow"
                        class="dropdownarrow"
                        src="./assets/icons/arrow_drop_down.png"
                        alt="Dropdown arrow"
                      />
                    </div>
                  </div>
                  <div id="taskCategoryOptions" class="dropdown-options hidden">
                    <div class="dropdown-option" data-value="Technical Task">
                      Technical Task
                    </div>
                    <div class="dropdown-option" data-value="User Story">
                      User Story
                    </div>
                  </div>
                </div>
                <input
                  type="hidden"
                  id="taskCategoryInput"
                  name="taskCategory"
                  value="todo"
                  required
                />
                <div id="selectedCategoryContainer"></div>
                <input type="hidden" id="taskTypeInput" value="" />
              </div>

              <!-- Subtasks -->
<div class="addTask-headlines">Subtasks</div>
<div class="subtask-input-container">
  <div class="subtask-input-wrapper">
    <input
      type="text"
      id="subtaskInput"
      class="subtask-input"
      placeholder="Add a subtask"
    />
    <button type="button" class="subtask-add-button">
      <img src="./assets/icons/add_hover.png" alt="Add" />
    </button>
  </div>
</div>
<ul id="subtaskList" class="subtask-list">
  <!-- Subtasks werden hier dynamisch eingefügt -->
</ul>


            <div class="form-actions">
              <!-- Actions -->
              <div class="addTask-buttons">
                <button class="cancel-btn" id="cancelButton">Cancel x</button>
                <button type="submit" class="create-task-btn">
                  Create Task ✓
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </main>
    </aside>
    <!-- Haupt-JavaScript -->
    <script src="./script/addTask-utils.js"></script>
<script src="./script/addTask-addTaskSite.js"></script>
<script src="./script/addTask-eventListener.js"></script>
  </body>
</html>
